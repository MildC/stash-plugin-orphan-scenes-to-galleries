name: Orphan Scenes to Galleries
description: Assigns orphan scenes (scenes without galleries) to matching galleries based on file path, date, or performer matching.
version: 1.0.0
url: https://github.com/yourusername/stash-plugin-orphan-scenes-to-galleries
exec:
  - python
  - "{pluginDir}/orphan_scenes_to_galleries.py"
interface: raw

settings:
  matchByPath:
    displayName: Match by Path
    description: Assign scenes to galleries if they share the same directory path
    type: BOOLEAN
  matchByDate:
    displayName: Match by Date
    description: Assign scenes to galleries if they have matching dates (within the date tolerance)
    type: BOOLEAN
  dateTolerance:
    displayName: Date Tolerance (days)
    description: Number of days tolerance when matching by date (default is 1)
    type: NUMBER
  matchByPerformers:
    displayName: Match by Performers
    description: Assign scenes to galleries if they share performers
    type: BOOLEAN
  minPerformerMatch:
    displayName: Minimum Performer Matches
    description: Minimum number of matching performers required (default is 1)
    type: NUMBER
  excludeOrganized:
    displayName: Exclude Organized Scenes
    description: Do not process scenes that are marked as organized
    type: BOOLEAN
  dryRun:
    displayName: Dry Run
    description: Enable to run in dry run mode. No changes will be made, only logging will occur.
    type: BOOLEAN

tasks:
  - name: "Assign Orphan Scenes to Galleries"
    description: Loops through all orphan scenes and attempts to assign them to matching galleries based on the configured matching criteria.
    defaultArgs:
      mode: processAll

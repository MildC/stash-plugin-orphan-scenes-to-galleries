name: Orphan Scenes to Galleries
description: Automatically assigns scenes without galleries to their matching galleries by searching for images in the same or nearby folders. Uses a two-tier hierarchical search - first checking the scene's folder, then searching sibling and child folders under the same parent directory.
version: 1.1.0
url: https://github.com/MildC/stash-plugin-orphan-scenes-to-galleries
author: MildC
exec:
  - python
  - "{pluginDir}/orphan_scenes_to_galleries.py"
interface: raw

settings:
  excludeOrganized:
    displayName: Exclude Organized Scenes
    description: Skip scenes that are marked as organized when looking for orphan scenes to process
    type: BOOLEAN
  dryRun:
    displayName: Dry Run Mode
    description: Test mode - shows what would be assigned without making any actual changes. Always enable this first to preview results!
    type: BOOLEAN

tasks:
  - name: "Assign Orphan Scenes to Galleries"
    description: Finds all scenes without galleries and automatically assigns them by matching with images in the same or related folders. First searches the scene's folder for images, then expands to sibling/child folders if needed. Uses the gallery of the first matching image found.
    defaultArgs:
      mode: processAll
